!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5f719e7e-f2bc-46be-8c1f-8a594fdf11d7",e._sentryDebugIdIdentifier="sentry-dbid-5f719e7e-f2bc-46be-8c1f-8a594fdf11d7")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[53919],{13504:(e,t,a)=>{a.d(t,{_B:()=>n._,KC:()=>y,tN:()=>C}),a(55060);var n=a(16454),r=a(79342),i=a(13103),o=a(88382),s=a(24429);a(17703),a(95158),a(56907),a(4423);var c=a(65146);a(14908);var l=a(56691);a(43086);var d=a(42557),u=a(11750),g=a(17035),p=a(61312),b=a(53592),m=a(84852);let f=e=>{let{onOpenChange:t,isSubscribed:a,isSuccessful:n,...o}=e,{t:s}=(0,c.Bd)("base");return(0,r.jsxs)(b.lG,{...o,onOpenChange:t,children:[(0,r.jsx)(b.LC,{className:"fixed inset-0 z-50 bg-overlay duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),(0,r.jsx)(m.s,{children:(0,r.jsx)(i.L3,{children:s("superGrok-upsell-dialog.title","Upgrade to SuperGrok")})}),(0,r.jsxs)(b.Cf,{className:(0,p.cn)("fixed z-50 bg-background grid inset-0 place-items-center gap-4 duration-200 w-[100vw] min-h-[100vh] overflow-x-hidden","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 p-6"),onCloseAutoFocus:e=>{e.preventDefault(),document.body.style.pointerEvents=""},children:[(0,r.jsx)(g.W,{onSuccess:()=>null==t?void 0:t(!1),isSubscribed:a,isSuccessful:n}),(0,r.jsx)(l.$n,{variant:"ghostSecondary",size:"iconMd",className:"absolute top-4 right-4",onClick:()=>null==t?void 0:t(!1),"aria-label":s("Close","Close"),children:(0,r.jsx)(u.uv5,{className:"size-5"})})]})]})};var h=a(58711),k=a(74995);let y=()=>{let e=(0,d.wV)(),{isSuperGrokUser:t,isSuperGrokProUser:a,isEnterpriseUser:n}=(0,s.Q2)(),i=(0,s.hd)(),o=(0,h.e3)(k.A("isUpselling")),c=(0,h.e3)(k.A("setIsUpselling"));return e.user?(0,r.jsx)(f,{open:o,isSubscribed:t||a||n||!1,isSuccessful:i,onOpenChange:e=>{c(e)}}):null};var x=a(47127),v=a(60065),w=a(75500),S=a(23232),z=a(84969),j=a(23054),N=a(59625),_=a(38997),I=a(46681),P=a(6132);function C(){var e;let{t}=(0,c.Bd)("upsell"),a=(0,w.h)(),n=null==(e=A.safeParse(a.UPSELL_SMALL_KEY.value).data)?void 0:e.key,[i,l]=(0,N.A)("upsell-small-closed",""),u=(0,S._)(),g=function(){var e;let t=(0,w.h)(),a=(0,o.useMemo)(()=>A.safeParse(t.UPSELL_SMALL_KEY.value),[t.UPSELL_SMALL_KEY.value]),n=null==(e=a.data)?void 0:e.key,[r,i]=(0,N.A)("upsell-small-closed",""),c=a.success&&n!==r,l=(0,d.wV)(),u=(0,h.e3)(e=>e.isUpselling),g=(0,I.g)(h.z$),{isEnterpriseUser:p,isSuperGrokUser:b,isSuperGrokProUser:m,isPending:f}=(0,s.Q2)();return!(!c||u||p||b||m||f||!l.user)&&g}(),p=(0,o.useCallback)(()=>{let{setIsUpselling:e}=h.e3.getState();u("upsell_small_clicked","",{location:"upsell-small"}),e(!0)},[u]),b=(0,o.useCallback)(e=>{e.stopPropagation(),l(n)},[l,n]);return(0,r.jsx)(E,{isVisible:g,logo:(0,r.jsx)(_.$X,{className:"h-[20px] mb-1",isDark:!0}),description:t("upsell-small.description","Unlock extended capabilities"),handleClick:p,handleClickClose:b})}function E(e){let{isVisible:t,handleClick:a,handleClickClose:n,logo:i,description:o}=e,{t:s}=(0,c.Bd)("upsell");return(0,r.jsx)(z.N,{children:t&&(0,r.jsxs)(j.P.div,{role:"button",className:(0,p.cn)("upsell-small","fixed bottom-[140px] sm:bottom-2 sm:right-2","px-5 py-4 items-center w-[calc(100%-16px)] bg-black text-xs text-white border cursor-pointer","border-card min-[384px]:w-max min-[384px]:min-w-52 rounded-3xl group text-left","flex gap-4 dark","hover:scale-[1.01]"),onClick:a,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",stiffness:900,damping:30,duration:.1},children:[(0,r.jsx)(v.I,{starDensity:.001,className:"rounded-[23px]"}),(0,r.jsx)("div",{className:"absolute inset-0 flex justify-center top-0 overflow-hidden rounded-[23px]",children:(0,r.jsx)("div",{className:"size-80 bg-red-500 bg-gradient-to-r from-sunset via-breeze to-cobalt aspect-square opacity-10 absolute bottom-4 blur-[32px] rounded-full"})}),(0,r.jsx)(l.$n,{className:(0,p.cn)("absolute transition-all scale-50 opacity-0 -top-1.5 -right-1.5","group-hover:opacity-100 group-hover:scale-100 border border-border-l1 bg-surface-base hover:bg-surface-l2"),variant:"none",size:"iconXs",rounded:!0,"aria-label":s("Hide upsell banner","Hide upsell banner"),onClick:n,children:(0,r.jsx)(x.p,{children:(0,r.jsx)(u.uv5,{className:"size-4"})},"edit")}),(0,r.jsxs)("div",{className:"w-full z-10",children:[(0,r.jsx)("div",{className:"flex items-start",children:i}),(0,r.jsx)("p",{className:"text-muted-foreground",children:o})]}),(0,r.jsx)(l.$n,{rounded:!0,variant:"filled",className:"text-sm font-semibold z-10 bg-white hover:bg-gray-100",children:s("Upgrade","Upgrade")})]})})}let A=P.z.object({key:P.z.string()})},17035:(e,t,a)=>{a.d(t,{W:()=>I});var n=a(79342),r=a(11750),i=a(17266),o=a(56691),s=a(60065),c=a(75500),l=a(23232),d=a(41320),u=a(24429),g=a(17703),p=a(61312),b=a(58711),m=a(59109),f=a(23054),h=a(16506),k=a(74995),y=a(88382),x=a(65146),v=a(14908),w=a(43086);function S(){return(0,n.jsxs)(f.P.div,{initial:{opacity:0,translateY:-150},animate:{opacity:.15,translateY:0},transition:{duration:1,ease:"easeOut"},className:"absolute -inset-x-[600px] -top-12 flex h-[400px] grow opacity-[0.15] blur-lg",style:{maskImage:"linear-gradient(to top, rgba(255, 255, 255, 0), rgb(255, 255, 255))",WebkitMaskImage:"linear-gradient(to top, rgba(255, 255, 255, 0), rgb(255, 255, 255))"},children:[(0,n.jsx)("div",{className:"grow gradient-one"}),(0,n.jsx)("div",{className:"grow gradient-two"}),(0,n.jsx)("style",{children:"\n      .gradient-one {\n        background: linear-gradient(to bottom, rgb(255, 255, 255), rgba(10, 10, 10, 0)); /* Fallback for non-conic browsers */\n        background: conic-gradient(\n          from 90deg at 35% -1%,\n          rgb(255, 255, 255) 7.2deg,\n          rgb(255, 255, 255) 14.4deg,\n          rgba(10, 10, 10, 0) 36deg,\n          rgba(10, 10, 10, 0) 342deg,\n          rgb(255, 255, 255) 360deg\n        ); /* Overrides if supported */\n      }\n      .gradient-two {\n        background: linear-gradient(to bottom, rgb(255, 255, 255), rgba(10, 10, 10, 0)); /* Fallback for non-conic browsers */\n        background: conic-gradient(\n          from -90deg at 65% -1%,\n          rgb(255, 255, 255) 0deg,\n          rgba(10, 10, 10, 0) 18deg,\n          rgba(10, 10, 10, 0) 324deg,\n          rgb(255, 255, 255) 345.6deg,\n          rgb(255, 255, 255) 352.8deg\n        ); /* Overrides if supported */\n      }\n    "})]})}var z=a(38997),j=a(92939),N=a.n(j);function _(e){let{children:t,className:a,speed:r=.3,colorFrom:i="#d946ef",colorTo:o="#3b82f6",occasionalHighlight:s=!1,highlightInterval:c=4}=e,l=2/r;return(0,n.jsxs)("div",{style:{...s?{animation:"occasionalGradient ".concat(s?c:l,"s ease-in-out infinite")}:{backgroundImage:"linear-gradient(to right, ".concat(i,", ").concat(o,", ").concat(i,")"),backgroundSize:"200% 100%",animation:"gradient ".concat(l,"s ease-in-out infinite")}},className:N().dynamic([["501d5a0e27ebc8ec",[i,o,i,i,o,i,i,o,i]]])+" "+((0,p.cn)("relative inline-block",s?"text-current":"bg-gradient-to-r bg-clip-text text-transparent",a)||""),children:[t,(0,n.jsx)(N(),{id:"501d5a0e27ebc8ec",dynamic:[i,o,i,i,o,i,i,o,i],children:"@-webkit-keyframes gradient{0%,100%{background-position:0%50%}50%{background-position:100%50%}}@-moz-keyframes gradient{0%,100%{background-position:0%50%}50%{background-position:100%50%}}@-o-keyframes gradient{0%,100%{background-position:0%50%}50%{background-position:100%50%}}@keyframes gradient{0%,100%{background-position:0%50%}50%{background-position:100%50%}}@-webkit-keyframes occasionalGradient{0%,80%{background:transparent;background-clip:initial;color:inherit}85%{background:-webkit-linear-gradient(left,".concat(i,",").concat(o,",").concat(i,");background:linear-gradient(to right,").concat(i,",").concat(o,",").concat(i,");-webkit-background-size:200%100%;background-size:200%100%;-webkit-background-clip:text;background-clip:text;color:transparent;background-position:0%50%}92.5%{background:-webkit-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:linear-gradient(to right,").concat(i,",").concat(o,",").concat(i,");-webkit-background-size:200%100%;background-size:200%100%;-webkit-background-clip:text;background-clip:text;color:transparent;background-position:100%50%}100%{background:-webkit-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:linear-gradient(to right,").concat(i,",").concat(o,",").concat(i,");-webkit-background-size:200%100%;background-size:200%100%;-webkit-background-clip:text;background-clip:text;color:transparent;background-position:0%50%}}@-moz-keyframes occasionalGradient{0%,80%{background:transparent;background-clip:initial;color:inherit}85%{background:-moz-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:linear-gradient(to right,").concat(i,",").concat(o,",").concat(i,");-moz-background-size:200%100%;background-size:200%100%;background-clip:text;color:transparent;background-position:0%50%}92.5%{background:-moz-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:linear-gradient(to right,").concat(i,",").concat(o,",").concat(i,");-moz-background-size:200%100%;background-size:200%100%;background-clip:text;color:transparent;background-position:100%50%}100%{background:-moz-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:linear-gradient(to right,").concat(i,",").concat(o,",").concat(i,");-moz-background-size:200%100%;background-size:200%100%;background-clip:text;color:transparent;background-position:0%50%}}@-o-keyframes occasionalGradient{0%,80%{background:transparent;background-clip:initial;color:inherit}85%{background:-o-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:linear-gradient(to right,").concat(i,",").concat(o,",").concat(i,");-o-background-size:200%100%;background-size:200%100%;background-clip:text;color:transparent;background-position:0%50%}92.5%{background:-o-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:linear-gradient(to right,").concat(i,",").concat(o,",").concat(i,");-o-background-size:200%100%;background-size:200%100%;background-clip:text;color:transparent;background-position:100%50%}100%{background:-o-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:linear-gradient(to right,").concat(i,",").concat(o,",").concat(i,");-o-background-size:200%100%;background-size:200%100%;background-clip:text;color:transparent;background-position:0%50%}}@keyframes occasionalGradient{0%,80%{background:transparent;background-clip:initial;color:inherit}85%{background:-webkit-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:-moz-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:-o-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:linear-gradient(to right,").concat(i,",").concat(o,",").concat(i,");-webkit-background-size:200%100%;-moz-background-size:200%100%;-o-background-size:200%100%;background-size:200%100%;-webkit-background-clip:text;background-clip:text;color:transparent;background-position:0%50%}92.5%{background:-webkit-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:-moz-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:-o-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:linear-gradient(to right,").concat(i,",").concat(o,",").concat(i,");-webkit-background-size:200%100%;-moz-background-size:200%100%;-o-background-size:200%100%;background-size:200%100%;-webkit-background-clip:text;background-clip:text;color:transparent;background-position:100%50%}100%{background:-webkit-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:-moz-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:-o-linear-gradient(left,").concat(i,",").concat(o,",").concat(i,");background:linear-gradient(to right,").concat(i,",").concat(o,",").concat(i,");-webkit-background-size:200%100%;-moz-background-size:200%100%;-o-background-size:200%100%;background-size:200%100%;-webkit-background-clip:text;background-clip:text;color:transparent;background-position:0%50%}}")})]})}let I=e=>{let{isSubscribed:t,isSuccessful:a}=e,{t:o}=(0,x.Bd)("upsell"),[c,g]=(0,y.useState)("monthly"),[m,k]=(0,y.useState)(1),w=(0,l._)(),j=(0,d.Di)(),{targetTier:N}=(0,b.e3)();(0,y.useEffect)(()=>{t?w("upsell_fullscreen_open_subbed","",{location:"upsell-plans",isSubscribed:"true"}):w("upsell_fullscreen_open_not_subbed","",{location:"upsell-plans",isSubscribed:"false"})},[]),(0,y.useEffect)(()=>{a&&w("upsell_fullscreen_open_success","",{location:"upsell-plans",isSubscribed:String(t)})},[a]);let{resolvedTheme:_}=(0,h.D)(),I="dark"===_,{bestSubscription:E}=(0,u.Q2)(),{superGrokSubscriptionPrices:A,superGrokProSubscriptionPrices:T,error:U}=(0,u.t2)(),L=(0,y.useRef)(!1);(0,y.useEffect)(()=>(U&&!L.current&&(v.oR.error(o("useStripe.fail","Failed to connect to subscription service")),L.current=!0),()=>{L.current=!1}),[U,o]);let G=(0,y.useCallback)(()=>{g(e=>"monthly"===e?"yearly":"monthly")},[]),R={title:o("Basic","Basic"),ctaLabel:o("Sign up","Sign up"),isPopular:!1,features:[{Icon:r.yr3,label:o("free.limited-access-grok-3","Limited access to Grok 3"),isHighlighted:!0},{Icon:r.Sxh,label:o("free.limited-context-memory-v2","Limited context memory")},{Icon:i.x,label:o("free.aurora-image-model-v2","Aurora image model")},{Icon:r.IDf,label:o("free.voice-with-vision","Voice access"),isHighlighted:!0},{Icon:r.XRf,label:o("free.projects","Projects")},{Icon:r.HEW,label:o("free.tasks","Tasks")}],monthlyPrice:"Free",yearlyPrice:"Free"},F={title:o("supergrok.title","SuperGrok"),ctaLabel:o("supergrok.cta-label","Upgrade to SuperGrok"),isPopular:!0,features:[{Icon:r.yr3,label:o("supergrok.increased-access-grok-4","Increased access to Grok 4"),detail:o("supergrok.replaces-grok-3-v2","Replaces Think and DeepSearch"),isNewRowDetail:!0,isHighlighted:!0},{Icon:r.yr3,label:o("supergrok.increased-access-grok-3","Increased access to Grok 3")},{Icon:r.Sxh,label:o("supergrok.context-memory-v2","Extended memory"),detail:o("supergrok.context-memory-detail","{{tokens, number}} tokens",{tokens:128e3})},{Icon:r.IDf,label:o("supergrok.voice-with-vision-v2","Priority voice access")},{Icon:r.XGR,label:o("supergrok.imagine","Imagine image model "),isHighlighted:!0},{Icon:r.Wzu,label:o("supergrok.companions","Companions Ani and Valentine"),isHighlighted:!0},{Icon:r.c11,label:o("supergrok.everything-in-basic","Everything in Basic")}],monthlyPrice:null==A?void 0:A.monthly_price,yearlyPrice:null==A?void 0:A.yearly_price},D={title:o("SuperGrok Heavy","SuperGrok Heavy"),ctaLabel:o("Upgrade to SuperGrok Heavy","Upgrade to Heavy"),isPopular:!1,features:[{Icon:r.uiu,label:o("supergrok-heavy.exclusive-preview-of-grok-4-heavy","Exclusive preview of Grok 4 Heavy"),isHighlighted:!0},{Icon:r.yr3,label:o("supergrok.extended-access-grok-4","Extended access to Grok 4")},{Icon:r.yr3,label:o("supergrok.extended-access-grok-3","Unlimited access to Grok 3")},{Icon:r.Sxh,label:o("supergrok-heavy.context-v2","Longest memory"),detail:o("supergrok-heavy.context.tokens","{{tokens, number}} tokens",{tokens:256e3})},{Icon:r.dWV,label:o("supergrok-heavy.early-access-to-new-features","Early access to new features"),isHighlighted:!0},{Icon:r.c11,label:o("supergrok-heavy.everything-in-supergrok","Everything in SuperGrok")}],monthlyPrice:null==T?void 0:T.monthly_price,yearlyPrice:null==T?void 0:T.yearly_price};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(S,{}),(0,n.jsx)(s.I,{className:"[mask-image:radial-gradient(circle_at_top,#000000_0%,transparent_80%,transparent_100%)] z-0",starColor:I?[181,181,181]:[151,196,255]}),(0,n.jsxs)("div",{className:"flex flex-col w-full items-center gap-10 h-full pt-20",children:[(0,n.jsxs)(f.P.header,{initial:{opacity:0,translateY:8},animate:{opacity:1,translateY:0},transition:{duration:.4,ease:"easeOut"},className:"flex flex-col items-center gap-2",children:[(0,n.jsx)(z.$X,{isDark:I,className:"w-64"}),(0,n.jsxs)("div",{className:"flex flex-col items-center text-fg-secondary",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold",children:o("Introducing Grok 4","Introducing Grok 4")}),(0,n.jsx)("h3",{className:"text-lg font-semibold -m-1 dark:text-fg-tertiary",children:o("The most powerful AI model.","The most powerful AI model")})]})]}),(0,n.jsx)(C,{subType:c,isSubscribed:t,onToggle:G}),(0,n.jsx)("div",{className:"relative w-full max-w-5xl",children:(0,n.jsxs)("div",{className:(0,p.cn)("grid gap-4 w-full relative",{"grid-cols-1 justify-items-center":j,"grid-cols-3":!j}),children:[(0,n.jsx)(P,{...R,subType:c,bestSubscription:E,tier:void 0,planIndex:0,targetTier:N,selectedPlanIndex:m,setSelectedPlanIndex:k}),(0,n.jsx)(P,{...F,subType:c,bestSubscription:E,tier:u.i.SuperGrok,planIndex:1,targetTier:N,selectedPlanIndex:m,setSelectedPlanIndex:k}),(0,n.jsx)(P,{...D,subType:c,bestSubscription:E,tier:u.i.SuperGrokPro,planIndex:2,targetTier:N,selectedPlanIndex:m,setSelectedPlanIndex:k}),!j&&(0,n.jsx)(f.P.div,{className:"absolute inset-0 rounded-3xl border-2 border-fg-primary pointer-events-none z-20",initial:!1,animate:{x:1===m?"calc(100% + 1rem)":2===m?"calc(200% + 2rem)":"0%"},transition:{type:"easeInOut",duration:.2},style:{width:"calc(33.333% - 10.667px)"}})]})})]})]})};function P(e){let{title:t,ctaLabel:a,isPopular:r,features:i,subType:s,monthlyPrice:f,yearlyPrice:h,tier:S,bestSubscription:z,planIndex:j,selectedPlanIndex:N,setSelectedPlanIndex:I}=e,{t:P}=(0,x.Bd)("upsell"),C="monthly"===s?f:h,[E,A]=(0,y.useState)(!1),T=(0,l._)(),U=(0,c.h)(),L=(0,y.useMemo)(()=>!U.ENABLE_HEAVY_SUBSCRIPTION&&S===u.i.SuperGrokPro,[U.ENABLE_HEAVY_SUBSCRIPTION,S]),G=(0,b.e3)(k.A("setTargetTier")),R=(0,d.Di)(),{subscribeViaStripe:F}=(0,u.t2)(),D=(0,u.hi)(),M=(0,y.useCallback)(()=>{S&&!L&&(T("click_subscribe","",{location:"upsell-plans"}),A(!0),F(s,S).catch(e=>{let t=D(String(e))||P("subscribe.fail","Oops, something went wrong while processing your subscription.");(0,v.oR)(t),T("subscribeViaStripe_fail","",{location:"upsell-plans"}),(0,g.vV)("upsell-plans",e)}).finally(()=>{A(!1)}))},[S,L,T,F,s,D,P]),H=(0,y.useCallback)(()=>{I(j),S&&G(S)},[j,I,S,G]),B=(0,y.useMemo)(()=>{let e=(0,u.XG)(z),t=(0,u.XG)(S),n=S===z;return{isDisabled:e>=t||void 0===S||L,ctaLabel:n?P("Current Plan","Current Plan"):e>t?P("You are on tier","You are on {{tier}}",{tier:(0,u.VA)(z)}):L?P("Sold Out","Sold Out"):a}},[z,a,P,S,L]),O=N===j,V=(0,y.useMemo)(()=>.5+1.5*Math.random(),[]);return(0,n.jsxs)("div",{className:(0,p.cn)("max-w-96 grow flex-1 w-full p-6 rounded-3xl bg-surface-l1 flex flex-col gap-6 shadow-sm z-[10] cursor-pointer",!R&&"self-stretch","border-2",O&&R?"border-fg-primary":"border-transparent"),onClick:H,children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center w-full justify-between h-6",children:[(0,n.jsx)("h1",{className:"text-sm font-semibold",children:t}),r&&(0,n.jsx)("div",{className:"text-[12px] text-fg-primary font-semibold border px-1.5 py-0.5 rounded-lg dark:bg-surface-l2 bg-surface-base",children:P("Popular","Popular")})]}),(0,n.jsx)("h3",{className:"text-3xl font-semibold text-fg-primary h-10",children:!!C&&("Free"===C?"Free":(0,n.jsx)(m.Ay,{format:{style:"currency",currencyDisplay:"narrowSymbol",currency:C.currency,maximumFractionDigits:2,minimumFractionDigits:2},suffix:"monthly"===s?"/month":"/year",value:parseFloat(C.amount.val)/100,className:"upsell-amount-suffix"}))})]}),(0,n.jsx)(o.$n,{variant:B.isDisabled?"outline":"filled",className:(0,p.cn)("w-full font-semibold text-sm",!B.isDisabled&&"hover:scale-[101%] transition-transform duration-300","hover:bg-button-filled-hover"),size:"md",rounded:!0,onClick:M,disabled:E||B.isDisabled,"aria-label":E?P("Redirecting...","Redirecting..."):B.ctaLabel,children:E?(0,n.jsx)(w.y,{className:"text-ivory",size:"sm"}):B.ctaLabel}),(0,n.jsx)("div",{className:"flex flex-col gap-2",children:i.map(e=>(0,n.jsx)("div",{className:"flex items-center justify-between text-sm",children:(0,n.jsxs)("div",{className:"flex items-start gap-2",children:[e.Icon&&(0,n.jsx)(e.Icon,{className:(0,p.cn)("text-fg-tertiary my-0.5 size-4 flex-shrink-0",{"text-fg-primary":e.isHighlighted})}),(0,n.jsxs)("div",{className:"min-h-4",children:[U.SUBSCRIPTIONS_PAGE_ANIMATE&&e.isHighlighted&&O?(0,n.jsx)(_,{className:"font-semibold text-sm",occasionalHighlight:!1,speed:V,children:e.label}):e.isHighlighted||e.isBold?(0,n.jsx)("span",{className:(0,p.cn)("inline","font-semibold"),children:e.label}):(0,n.jsx)("span",{className:"inline",children:e.label}),e.detail&&(0,n.jsx)("span",{className:(0,p.cn)("text-fg-secondary text-xs ",e.isNewRowDetail?"inline-block":"inline ps-1"),children:e.detail})]})]})},e.label))})]})}let C=e=>{let{subType:t,onToggle:a}=e,{t:r}=(0,x.Bd)("upsell"),{resolvedTheme:i}=(0,h.D)(),o="dark"===i,s=[{key:"yearly",label:(0,n.jsxs)(n.Fragment,{children:[r("Pay-yearly","Pay yearly"),(0,n.jsx)("span",{className:(0,p.cn)("text-[12px] ms-1",{"text-fg-tertiary":"yearly"!==t,"text-orange-300":o&&"yearly"===t,"text-orange-400":!o&&"yearly"===t}),children:r("save-16","save 16%")})]})},{key:"monthly",label:r("Pay-monthly","Pay monthly")}];return(0,n.jsx)("div",{className:(0,p.cn)("inline-flex text-sm font-semibold p-0.5 border rounded-full text-fg-secondary cursor-pointer bg-surface-inset"),onClick:a,children:s.map(e=>{let{key:a,label:r}=e,i=t===a;return(0,n.jsxs)("button",{type:"button",className:(0,p.cn)("relative z-10 flex-1 py-1.5 px-3 rounded-full flex items-center justify-center whitespace-nowrap border border-transparent",{"text-fg-primary":i}),children:[i&&(0,n.jsx)(f.P.div,{layoutId:"toggle-pill",className:"absolute inset-0 rounded-full bg-surface-l3 border border-border-l1",transition:{type:"spring",stiffness:400,damping:35}}),(0,n.jsx)("span",{className:"relative z-10",children:r})]},a)})})}},44600:(e,t,a)=>{a.d(t,{jp:()=>V,$0:()=>Y,Pt:()=>W});var n=a(65258),r=a(51942),i=a.n(r),o=a(6132),s=a(4261),c=a(88382),l=a(75500),d=a(21782),u=a(41320),g=a(3683),p=a(11096),b=a(93056);let m=(0,p.v)(b.Q),f=m.evaluate;m.import({import:function(){throw Error("Function import is disabled")},createUnit:function(){throw Error("Function createUnit is disabled")},reviver:function(){throw Error("Function reviver is disabled")},evaluate:function(){throw Error("Function evaluate is disabled")},parse:function(){throw Error("Function parse is disabled")},simplify:function(){throw Error("Function simplify is disabled")},derivative:function(){throw Error("Function derivative is disabled")},resolve:function(){throw Error("Function resolve is disabled")}},{override:!0});var h=a(14455),k=a(56521);let y=o.z.object({code:o.z.string(),message:o.z.string(),moreDetails:o.z.string().optional(),parameter:o.z.string().optional(),subCode:o.z.string().optional(),value:o.z.string().optional()}),x=o.z.object({displayText:o.z.string(),query:o.z.string()}),v=o.z.object({name:o.z.string(),searchSuggestions:o.z.array(x)}),w=o.z.object({_type:o.z.literal("Suggestions"),suggestionGroups:o.z.array(v)}),S=o.z.object({_type:o.z.literal("ErrorResponse"),errors:o.z.array(y)}),z=o.z.discriminatedUnion("_type",[w,S]);var j=a(17703);let N={ar:"SA",bn:"IN",de:"DE",en:"US",es:"ES",fa:"US",fil:"US",fr:"FR",id:"ID",it:"IT",ja:"JP",ko:"KR",nl:"NL",pl:"PL",pt:"PT",ru:"RU",ro:"US",sv:"SE",tr:"TR","uk-UA":"US",vi:"US",zh:"CN","zh-TW":"TW",cs:"US",hi:"US",hu:"US",mr:"US",ta:"US",te:"US"},_=e=>N[e]||"US",I=e=>({ar:"ar",bn:"bn",de:"de",en:"en",es:"es",fr:"fr",id:"en",it:"it",ja:"jp",ko:"ko",nl:"nl",pl:"pl",pt:"pt-pt",ru:"ru",sv:"sv",tr:"tr","uk-UA":"uk",vi:"vi",zh:"zh-hans","zh-TW":"zh-hant"})[e]||"en";var P=a(95158);function C(e,t){let a=new Map,n=async function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];let o=t?t(...r):JSON.stringify(r);if(a.has(o))return a.get(o);let s=e(...r);a.set(o,s);try{return await s}catch(e){throw a.delete(o),e}};return n.cache=a,n}let E=C(P.rA.financeFindStock.bind(P.rA)),A=C(L),T=C(F("grok",G)),U=C(F("bing",R));async function L(e,t){var a,n;return null!=(n=null==(a=(await P.chatApi.chatListConversations({searchQuery:e,pageSize:t.toFixed(0)})).conversations)?void 0:a.map(e=>({type:"conversation",conversation:e})))?n:[]}async function G(){for(var e,t,a=arguments.length,n=Array(a),r=0;r<a;r++)n[r]=arguments[r];return null!=(t=null==(e=(await P.chatApi.chatGetSuggestions(...n)).suggestions)?void 0:e.map(e=>{var t,a;return"answer"===e.type?{type:"answer",text:null!=(t=e.text)?t:""}:{type:"llm",text:null!=(a=e.text)?a:""}}).filter(e=>e.text.length<170))?t:[]}async function R(e,t){let a={q:e,mkt:"".concat(I(t),"-").concat(_(t))},n=await function(e){let t=new URLSearchParams(e);return(0,k.h)("/suggestions?".concat(t.toString())).then(e=>e.json()).then(z.parse)}(a);if("ErrorResponse"===n._type){let e=n.errors.map(e=>e.message).join(", ");throw Error("Bing API Error: ".concat(e))}return n.suggestionGroups.flatMap(e=>e.searchSuggestions).map(e=>({text:e.query,type:"search"}))}function F(e,t){return async function(){for(var a=arguments.length,n=Array(a),r=0;r<a;r++)n[r]=arguments[r];let i=performance.now();try{let a=await t(...n);return(0,j.N8)("typeaheadStore",{type:"typeahead_api_call",provider:e,status:"success"}),a}catch(t){throw(0,j.vV)("typeahead",t,{provider:e}),(0,j.N8)("typeaheadStore",{type:"typeahead_api_call",provider:e,status:"error"}),t}finally{(0,j.N8)("typeaheadStore",{type:"typeahead_latency",provider:e,valueMs:performance.now()-i})}}}var D=a(44347);let M=o.z.number().optional(),H=o.z.boolean().optional(),B=o.z.object({enabled:o.z.boolean(),maxResults:M,maxResultsMobile:M,minChars:M,maxChars:M,maxWords:M,throttleTimeMs:M,enableStockTickers:H,stockInfoRefreshTimeMs:M,maxProjects:M,maxConversations:M,enableMath:H,useGrokTypeahead:H,enableAnswers:H});class O{constructor(e,t){this.set=e,this.get=t,this.config={enabled:!1,minChars:3,maxChars:30,maxResults:7,maxResultsMobile:3,maxWords:50,throttleTimeMs:300,enableStockTickers:!0,stockInfoRefreshTimeMs:0,maxProjects:2,maxConversations:0,enableMath:!1,useGrokTypeahead:!1,enableAnswers:!1},this.locale="en",this.fetchSymbol=Symbol("none"),this.tickerFetchSymbol=Symbol("no ticker"),this.suggestions=[],this.ensureSuggestions=async(e,t)=>{let{_updateList:a}=this.get(),{maxProjects:n,minChars:r,maxConversations:i,enableMath:o,throttleTimeMs:c,maxChars:l,maxWords:d}=this.get().config;this.get()._ensureTicker(e);let u=Symbol("fetch: "+e);if(this.set({fetchSymbol:u}),e.length<r||e.length>l||e.split(/\s+/gim).length>d||e.includes("\n")||e.includes("```"))return void a(e=>e.filter(e=>"stock"===e.type));let g=o?function(e){let t=function(e){try{return f(e)}catch(e){return null}}(e);return null==t?null:"number"==typeof t&&Number.isFinite(t)?t.toString():"string"==typeof t?e==="'".concat(t,"'")||e==='"'.concat(t,'"')?null:t:"Unit"===m.typeOf(t)?t.toString():null}(e):null,p=g&&!Number.isFinite(Number(e));if(o&&p){let t={type:"math",result:g,expression:e};a(e=>[t,...e.filter(e=>"math"!==e.type&&"answer"!==e.type)])}else a(e=>e.filter(e=>"math"!==e.type));let b=new s.A(t,{keys:["name"],distance:20,threshold:.3}).search(e,{limit:n}).map(e=>({type:"project",project:e.item}));if(a(e=>[...b,...e.filter(e=>"project"!==e.type)]),e.length<r)return void a(e=>e.filter(e=>"llm"!==e.type&&"search"!==e.type&&"answer"!==e.type&&"conversation"!==e.type));await (0,h.N)(c)(),this.get().fetchSymbol===u&&(i>0&&this.get()._fetchConversations(e,u),this.get()._fetchText(e,u,!p))},this._fetchConversations=async(e,t)=>{let{_updateList:a}=this.get(),{maxConversations:n}=this.get().config,r=await A(e,n);this.get().fetchSymbol===t&&a(e=>[...e.filter(e=>"conversation"!==e.type),...r])},this._fetchText=async(e,t,a)=>{let n,{locale:r,_updateList:i}=this.get(),{useGrokTypeahead:o,enableAnswers:s,maxResults:c}=this.get().config;try{n=o?await T({query:e,count:c,includeAnswers:s&&a}):await U(e,r)}catch(e){return}this.get().fetchSymbol===t&&i(t=>{let a=t.filter(t=>"llm"!==t.type&&"search"!==t.type&&"answer"!==t.type||t.text.toLocaleLowerCase().includes(e.toLocaleLowerCase())),r=n.filter(e=>!a.some(t=>t.type===e.type&&t.text===e.text));return[...a,...r]})},this._ensureTicker=async e=>{if(!this.get().config.enableStockTickers)return;let t=function(e){let t=e.trim();if(!t)return null;if(/^[a-zA-Z]{1,5}$/.test(t))return t.toLowerCase();let a=/^([a-zA-Z]{1,5}) (stocks?|prices?)$/.exec(t);return(null==a?void 0:a[1])?a[1].toLowerCase():null}(e);if(!t)return void this.set(e=>{e.suggestions=e.suggestions.filter(e=>"stock"!==e.type)});let a=Symbol("ticker: "+t);this.set({tickerFetchSymbol:a});try{var n;let e=await E({ticker:t});if(this.get().tickerFetchSymbol!==a||!e)return;let r=null==(n=e.stockSummaries)?void 0:n[0];if(!r)return;this.set(e=>{e.suggestions=K([{type:"stock",summary:r},...e.suggestions.filter(e=>"stock"!==e.type)],this.get().config.maxResults)})}catch(e){if(this.get().tickerFetchSymbol!==a)return;this.set(e=>{e.suggestions=e.suggestions.filter(e=>"stock"!==e.type)})}},this._updateList=e=>{this.set(t=>{t.suggestions=K(e(t.suggestions),t.config.maxResults)})}}}let V=(0,n.MQ)(O,"useSuggestionStore");function Y(){let{TYPEAHEAD_CONFIG:e,SUGGESTIONS_CONFIG_LLM_OVERRIDE:t,ENABLE_LLM_SUGGESTIONS:a,ENABLE_MATH_SUGGESTIONS:n}=(0,l.h)(),r=(0,u.Di)();(0,c.useEffect)(()=>{let i=B.safeParse(e);if(!i.data)return;let o={};if(a){let e=B.safeParse(t);e.data&&(o=e.data)}V.setState(e=>{e.config={...e.config,...i.data,...o},e.config.enableMath=n,e.config.maxResults=r?e.config.maxResultsMobile:e.config.maxResults})},[a,n,t,e,r]);let i=(0,d.f)();(0,c.useEffect)(()=>{V.setState({locale:i})},[i])}function W(e){let t=(0,D.C$)(e=>e.userSettings.preferences.disableTypeahead),a=(0,l.h)().TYPEAHEAD_CONFIG.enabled&&!t,n=V(e=>e.ensureSuggestions),r=(0,g._)();return(0,c.useEffect)(()=>{a&&n(e,r)},[e,a,n,r]),V(e=>e.suggestions)}let $=["math","project","stock","answer"],X=["search","llm"],q=["conversation"];function K(e,t){let a=i()(e,"type"),n=[];for(let e of $){var r;n.push(...null!=(r=a[e])?r:[])}let o=e.filter(e=>X.includes(e.type)),s=e.filter(e=>q.includes(e.type)),c=t-n.length-s.length;return o=o.slice(0,c),n.push(...o),n.push(...s),n=n.slice(0,t)}}}]);